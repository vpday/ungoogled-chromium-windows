# The MSVC Resource Compiler truncates macro names at char 31. Therefore all BUILDFLAG ifdefs needs to be patched manually.

--- a/build/build_config.h
+++ b/build/build_config.h
@@ -53,7 +53,7 @@
 //
 // * `#[cfg(unix)]` ~= `BUILDFLAG(IS_POSIX) || BUILDFLAG(IS_FUCHSIA)`
 
-#ifndef BUILD_BUILD_CONFIG_H_
+#if !defined(BUILD_BUILD_CONFIG_H_) && !defined(RC_INVOKED)
 #define BUILD_BUILD_CONFIG_H_
 
 #include "build/buildflag.h"  // IWYU pragma: export
